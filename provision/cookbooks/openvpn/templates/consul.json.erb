{
  "datacenter": "cluster-<%= node['attributes'].fetch('cluster_id') %>",
  "data_dir": "/data/consul/consul-<%= node['attributes'].fetch('cluster_id') %>",
  "log_level": "INFO",
  "node_name": "consul-<%= node['attributes'].fetch('cluster_id') %>",
  "server": true,
  "client_addr": "51.0.1.8",
  "bootstrap": true,
  "bind_addr": "51.0.1.8",
  "ports": {
    "dns": <%= node['attributes']['cluster_data'].fetch('consul_ports').fetch('dns') %>,
    "http": <%= node['attributes']['cluster_data'].fetch('consul_ports').fetch('http') %>,
    "serf_lan": <%= node['attributes']['cluster_data'].fetch('consul_ports').fetch('serf_lan') %>,
    "serf_wan": <%= node['attributes']['cluster_data'].fetch('consul_ports').fetch('serf_wan')%>,
    "server": <%= node['attributes']['cluster_data'].fetch('consul_ports').fetch('server') %>
  }
}